<Window x:Class="Tetris.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Tetris"
        Width="800"
        Height="600"
        WindowStartupLocation="CenterScreen"
        KeyDown="Window_KeyDown">

    <Grid>
        <!-- Image de fond -->
        <Grid.Background>
            <ImageBrush ImageSource="Assets/Background.png"/>
        </Grid.Background>

        <!-- Menu principal -->
        <Grid x:Name="MainMenu" Visibility="Visible" Background="#101010">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                <Button Content="Play" Width="200" Height="50" Click="StartGame_Click" Margin="10"/>
                <Button Content="Options" Width="200" Height="50" Click="OpenOptionsMenu_Click" Margin="10"/>
                <Button Content="Quit" Width="200" Height="50" Click="QuitGame_Click" Margin="10"/>
            </StackPanel>
        </Grid>

        <!-- Menu des options -->
        <Grid x:Name="OptionsMenu" Visibility="Collapsed" Background="#202020">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                <TextBlock Text="Options" FontSize="32" Foreground="White" Margin="10"/>
                
                <!-- Choix de la vitesse du jeu -->
                <TextBlock Text="Game Speed:" FontSize="20" Foreground="White" Margin="10"/>
                <Slider x:Name="GameSpeedSlider" Minimum="100" Maximum="1000" Value="500" Width="200" Margin="10"/>
                <TextBlock x:Name="GameSpeedText" FontSize="18" Foreground="White" Text="500 ms per tick" Margin="10"/>

                <Button Content="Apply" Width="200" Height="50" Click="ApplySettings_Click" Margin="10"/>
                <Button Content="Back to Menu" Width="200" Height="50" Click="BackToMenu_Click" Margin="10"/>
            </StackPanel>
        </Grid>

        <!-- Canvas principal du jeu (Grille) -->
        <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
            <Canvas x:Name="GameCanvas"
                    Background="#202020"
                    Width="250"
                    Height="510"
                    ClipToBounds="True"/>
        </Viewbox>

        <!-- Score et Next Block -->
        <StackPanel Orientation="Vertical" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="20" x:Name="ScoreDisplay">
            <TextBlock Text="Score:" FontSize="24" Foreground="White" Margin="5"/>
            <TextBlock x:Name="ScoreText" FontSize="24" Foreground="White" Margin="5"/>
        </StackPanel>

        <StackPanel Orientation="Vertical" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="20" x:Name="NextBlockDisplay">
            <TextBlock Text="Next Block:" FontSize="24" Foreground="White" Margin="5"/>
            <Image x:Name="NextImage" Width="100" Height="100" Margin="5"/>
        </StackPanel>

        <!-- Menu Pause -->
        <Grid x:Name="PauseMenu" Visibility="Collapsed" Background="#AA000000">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button Content="Resume" Width="200" Height="50" Click="ResumeGame_Click" Margin="10"/>
                <Button Content="Back to Menu" Width="200" Height="50" Click="BackToMenu_Click" Margin="10"/>
            </StackPanel>
        </Grid>

        <!-- Menu Game Over -->
        <Grid x:Name="GameOverMenu" Visibility="Collapsed" Background="#AA000000">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock x:Name="FinalScoreText" FontSize="36" Foreground="White" Margin="10" TextAlignment="Center"/>
                <Button Content="Play Again" Width="200" Height="50" Click="PlayAgain_Click" Margin="10"/>
                <Button Content="Back to Menu" Width="200" Height="50" Click="BackToMenu_Click" Margin="10"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>

